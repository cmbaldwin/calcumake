# Secrets defined here are available for reference under registry/password, env/secret, builder/secrets,
# and accessories/*/env/secret in config/deploy.yml. All secrets should be pulled from either
# password manager, ENV, or a file. DO NOT ENTER RAW CREDENTIALS HERE! This file needs to be safe for git.

SECRETS=$(kamal secrets fetch --adapter 1password --account CNCYFLWUMZHE7MBS5AAOOSTLTI --from "MOAB/Production" PRINTING_RAILS_MASTER_KEY PRINTING_RAILS_POSTGRES_PASSWORD CLOUDFLARE_SSL_CERT_PEM CLOUDFLARE_SSL_KEY_PEM)
RAILS_MASTER_KEY=$(kamal secrets extract PRINTING_RAILS_MASTER_KEY ${SECRETS})
POSTGRES_PASSWORD=$(kamal secrets extract PRINTING_RAILS_POSTGRES_PASSWORD ${SECRETS})
CLOUDFLARE_SSL_CERT_PEM=$(kamal secrets extract CLOUDFLARE_SSL_CERT_PEM ${SECRETS})
CLOUDFLARE_SSL_KEY_PEM=$(kamal secrets extract CLOUDFLARE_SSL_KEY_PEM ${SECRETS})
# REDIS_PASSWORD=$(kamal secrets extract REDIS_PASSWORD ${SECRETS})

AWS_ECR_PASSWORD=$(aws ecr get-login-password --region ap-southeast-2 --profile default)

# Use a GITHUB_TOKEN if private repositories are needed for the image
# GITHUB_TOKEN=$(gh config get -h github.com oauth_token)
