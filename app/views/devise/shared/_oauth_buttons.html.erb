<%# OAuth provider configuration - get available providers from helper %>
<% oauth_providers = oauth_providers_for_view %>

<% if oauth_providers.any? %>
  <div class="oauth-buttons mb-4" role="group" aria-labelledby="oauth-signin-heading">
    <div class="visually-hidden" id="oauth-signin-heading"><%= t('devise.shared.oauth_signin_options') %></div>

    <div class="row g-2">
      <% oauth_providers.each do |provider| %>
        <div class="col-12">
          <%= link_to provider[:path],
              method: :post,
              class: "#{oauth_provider_button_class(provider[:name])} w-100 d-flex align-items-center justify-content-center",
              role: "button",
              "aria-label": t('devise.shared.sign_in_with_provider_aria', provider: provider[:name]),
              data: {
                bs_toggle: "tooltip",
                bs_placement: "top",
                bs_title: t('devise.shared.sign_in_with_provider', provider: provider[:name]),
                provider: provider[:name],
                action: "click->last-login#trackOAuthLogin"
              } do %>
            <%= oauth_provider_icon(provider[:name]) %>
            <span><%= t('devise.shared.sign_in_with_provider', provider: provider[:name]) %></span>
          <% end %>
        </div>
      <% end %>
    </div>

    <div class="text-center my-3">
      <small class="text-muted" role="separator" aria-label="<%= t('devise.shared.alternative_signin_method') %>">
        <%= t('devise.shared.or_sign_in_with_email') %>
      </small>
    </div>
  </div>
<% end %>