<% content_for :title, t('support.title') %>
<% content_for :markdown_alternate_links do %>
  <%= markdown_alternate_links('/support', include_locales: false) %>
<% end %>

<div class="row justify-content-center">
  <div class="col-lg-8">
    <div class="card">
      <div class="card-header text-center">
        <h1 class="h2 mb-0"><%= t('support.title') %></h1>
      </div>
      <div class="card-body text-center">
        <div class="mb-4">
          <i class="bi bi-envelope-fill text-primary support-icon"></i>
        </div>

        <h3 class="mb-3"><%= t('support.contact_us') %></h3>
        <p class="lead mb-4"><%= t('support.description') %></p>

        <div class="card bg-light">
          <div class="card-body">
            <h5 class="card-title"><%= t('support.email_label') %></h5>
            <a href="mailto:cody@moab.jp" class="btn btn-primary btn-lg">
              <i class="bi bi-envelope me-2"></i>cody@moab.jp
            </a>
          </div>
        </div>

        <div class="mt-4">
          <p class="text-muted small">
            <%= t('support.response_time') %>
          </p>
        </div>
      </div>
    </div>

    <!-- FAQ Section -->
    <div class="card mt-4">
      <div class="card-header">
        <h2 class="h3 mb-0"><%= t('support.faq.title') %></h2>
      </div>
      <div class="card-body">
        <div class="accordion" id="faqAccordion">
          <!-- Delete Account FAQ -->
          <div class="accordion-item">
            <h3 class="accordion-header" id="faqDeleteAccountHeading">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqDeleteAccount" aria-expanded="false" aria-controls="faqDeleteAccount">
                <%= t('support.faq.delete_account.question') %>
              </button>
            </h3>
            <div id="faqDeleteAccount" class="accordion-collapse collapse" aria-labelledby="faqDeleteAccountHeading" data-bs-parent="#faqAccordion">
              <div class="accordion-body text-start">
                <p><%= t('support.faq.delete_account.answer') %></p>
                <ol>
                  <li><%= t('support.faq.delete_account.step1') %></li>
                  <li><%= t('support.faq.delete_account.step2') %></li>
                  <li><%= t('support.faq.delete_account.step3') %></li>
                  <li><%= t('support.faq.delete_account.step4') %></li>
                  <li><%= t('support.faq.delete_account.step5') %></li>
                </ol>
                <div class="alert alert-warning mt-3">
                  <strong><%= t('support.faq.delete_account.warning_title') %></strong>
                  <p class="mb-0"><%= t('support.faq.delete_account.warning_message') %></p>
                </div>
              </div>
            </div>
          </div>

          <!-- Data Recovery FAQ -->
          <div class="accordion-item">
            <h3 class="accordion-header" id="faqDataRecoveryHeading">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqDataRecovery" aria-expanded="false" aria-controls="faqDataRecovery">
                <%= t('support.faq.data_recovery.question') %>
              </button>
            </h3>
            <div id="faqDataRecovery" class="accordion-collapse collapse" aria-labelledby="faqDataRecoveryHeading" data-bs-parent="#faqAccordion">
              <div class="accordion-body text-start">
                <p><%= t('support.faq.data_recovery.answer') %></p>
              </div>
            </div>
          </div>

          <!-- What Gets Deleted FAQ -->
          <div class="accordion-item">
            <h3 class="accordion-header" id="faqWhatDeletedHeading">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqWhatDeleted" aria-expanded="false" aria-controls="faqWhatDeleted">
                <%= t('support.faq.what_deleted.question') %>
              </button>
            </h3>
            <div id="faqWhatDeleted" class="accordion-collapse collapse" aria-labelledby="faqWhatDeletedHeading" data-bs-parent="#faqAccordion">
              <div class="accordion-body text-start">
                <p><%= t('support.faq.what_deleted.intro') %></p>
                <ul>
                  <li><%= t('support.faq.what_deleted.item1') %></li>
                  <li><%= t('support.faq.what_deleted.item2') %></li>
                  <li><%= t('support.faq.what_deleted.item3') %></li>
                  <li><%= t('support.faq.what_deleted.item4') %></li>
                  <li><%= t('support.faq.what_deleted.item5') %></li>
                  <li><%= t('support.faq.what_deleted.item6') %></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .bi {
    font-family: "Bootstrap Icons", sans-serif;
  }

  .card .btn-primary {
    text-decoration: none;
  }

  .card .btn-primary:hover {
    transform: translateY(-1px);
  }
</style>