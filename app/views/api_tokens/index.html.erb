<% content_for :body_class, "api-tokens-page" %>

<div class="container py-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <div>
      <h1 class="h3 mb-1"><%= t("api_tokens.title") %></h1>
      <p class="text-muted mb-0"><%= t("api_tokens.description") %></p>
    </div>
    <%= link_to new_api_token_path, class: "btn btn-primary" do %>
      <i class="bi bi-plus-lg me-1"></i>
      <%= t("api_tokens.new") %>
    <% end %>
  </div>

  <%= turbo_frame_tag "api_tokens_list" do %>
    <% if @api_tokens.any? %>
      <% @api_tokens.each do |token| %>
        <%= render ApiTokens::TokenCardComponent.new(token: token) %>
      <% end %>
    <% else %>
      <div class="text-center text-muted py-5">
        <i class="bi bi-key display-4 mb-3 d-block opacity-50"></i>
        <p class="mb-3"><%= t("api_tokens.empty") %></p>
        <%= link_to new_api_token_path, class: "btn btn-primary" do %>
          <i class="bi bi-plus-lg me-1"></i>
          <%= t("api_tokens.new") %>
        <% end %>
      </div>
    <% end %>
  <% end %>

  <div class="mt-4">
    <%= link_to user_profile_path, class: "btn btn-outline-secondary" do %>
      <i class="bi bi-arrow-left me-1"></i>
      <%= t("actions.back_to_profile") %>
    <% end %>
  </div>
</div>
