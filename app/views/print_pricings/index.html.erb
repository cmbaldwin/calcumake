<div class="hero-section">
  <h1><%= t('print_pricing.index.title') %></h1>
  <p class="hero-subtitle">
    <%= t('print_pricing.index.subtitle') %>
  </p>
  <%= link_to t('print_pricing.index.create_new'), new_print_pricing_path, class: "button" %>
</div>

<% if @print_pricings.any? %>
  <div class="stats-row">
    <div class="stat-card total-calculations">
      <div class="stat-number"><%= @print_pricings.count %></div>
      <div><%= t('print_pricing.index.total_calculations') %></div>
    </div>
    <div class="stat-card total-print-time">
      <div class="stat-number">
        <%= @print_pricings.sum { |p| p.total_actual_print_time_minutes } / 60 %>h
      </div>
      <div><%= t('print_pricing.index.total_print_time') %></div>
    </div>
  </div>

  <div class="table-container">
    <table>
      <thead>
        <tr>
          <th><%= t('print_pricing.job_name') %></th>
          <th><%= t('currency.currency') %></th>
          <th><%= t('print_pricing.print_time') %></th>
          <th><%= t('print_pricing.times_printed') %></th>
          <th><%= t('print_pricing.final_price') %></th>
          <th><%= t('common.created') %></th>
          <th><%= t('actions.actions') %></th>
        </tr>
      </thead>
      <tbody>
        <% @print_pricings.each_with_index do |pricing, index| %>
          <tr class="<%= 'table-row-even' if index.even? %>">
            <td>
              <%= link_to pricing.job_name, pricing, class: "job-name-link" %>
            </td>
            <td>
              <span class="currency-badge">
                <%= pricing.default_currency %>
              </span>
            </td>
            <td>
              <span class="print-time">
                <%= pricing.printing_time_hours %>h <%= pricing.printing_time_minutes %>m
              </span>
            </td>
            <td>
              <%= render "times_printed_control", pricing: pricing %>
            </td>
            <td class="final-price-cell">
              <span class="final-price-badge">
                <%= pricing.default_currency %> <%= format_currency(pricing.final_price, pricing.default_currency) %>
              </span>
            </td>
            <td class="created-date">
              <%= pricing.created_at.strftime("%b %d, %Y") %>
            </td>
            <td>
              <div class="actions-cell">
                <%= link_to t('actions.show'), pricing,
                    class: "button button-small" %>
                <%= link_to t('actions.edit'), edit_print_pricing_path(pricing),
                    class: "button button-small button-outline" %>
                <%= link_to t('actions.delete'), pricing, method: :delete,
                    class: "button button-small button-clear",
                    data: {
                      confirm: t('print_pricing.confirm_delete', name: pricing.job_name),
                      turbo_method: :delete
                    } %>
              </div>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
<% else %>
  <div class="empty-state">
    <h3><%= t('print_pricing.index.empty_state.title') %></h3>
    <p>
      <%= t('print_pricing.index.empty_state.description') %>
    </p>
    <%= link_to t('print_pricing.index.create_new'), new_print_pricing_path, class: "button" %>
  </div>
<% end %>

