<%# Locale suggestion banner - similar to Apple's region detection %>
<div class="locale-suggestion-banner p-2" 
     data-controller="locale-suggestion" 
     data-locale-suggestion-target="banner" 
     data-locale-suggestion-current-locale-value="<%= I18n.locale %>"
     data-locale-suggestion-dismissed-key-value="locale_suggestion_dismissed_<%= Date.current.strftime('%Y%m') %>"
     data-locale-suggestion-translations-value="<%= {
       en: {
         title: I18n.t('locale_suggestion.banner.title', locale: :en),
         switch_to: I18n.t('locale_suggestion.banner.switch_to', locale: :en, language: '__LANGUAGE__'),
         currently_viewing: I18n.t('locale_suggestion.banner.currently_viewing', locale: :en, language: '__CURRENT__'),
         switch_button: I18n.t('locale_suggestion.banner.switch_button', locale: :en),
         stay_button: "Stay in English"
       },
       ja: {
         title: I18n.t('locale_suggestion.banner.title', locale: :ja),
         switch_to: I18n.t('locale_suggestion.banner.switch_to', locale: :ja, language: '__LANGUAGE__'),
         currently_viewing: I18n.t('locale_suggestion.banner.currently_viewing', locale: :ja, language: '__CURRENT__'),
         switch_button: I18n.t('locale_suggestion.banner.switch_button', locale: :ja),
         stay_button: "Stay in 日本語"
       },
       'zh-CN': {
         title: I18n.t('locale_suggestion.banner.title', locale: :'zh-CN'),
         switch_to: I18n.t('locale_suggestion.banner.switch_to', locale: :'zh-CN', language: '__LANGUAGE__'),
         currently_viewing: I18n.t('locale_suggestion.banner.currently_viewing', locale: :'zh-CN', language: '__CURRENT__'),
         switch_button: I18n.t('locale_suggestion.banner.switch_button', locale: :'zh-CN'),
         stay_button: "Stay in 中文"
       },
       es: {
         title: I18n.t('locale_suggestion.banner.title', locale: :es),
         switch_to: I18n.t('locale_suggestion.banner.switch_to', locale: :es, language: '__LANGUAGE__'),
         currently_viewing: I18n.t('locale_suggestion.banner.currently_viewing', locale: :es, language: '__CURRENT__'),
         switch_button: I18n.t('locale_suggestion.banner.switch_button', locale: :es),
         stay_button: "Stay in Español"
       },
       fr: {
         title: I18n.t('locale_suggestion.banner.title', locale: :fr),
         switch_to: I18n.t('locale_suggestion.banner.switch_to', locale: :fr, language: '__LANGUAGE__'),
         currently_viewing: I18n.t('locale_suggestion.banner.currently_viewing', locale: :fr, language: '__CURRENT__'),
         switch_button: I18n.t('locale_suggestion.banner.switch_button', locale: :fr),
         stay_button: "Stay in Français"
       },
       hi: {
         title: I18n.t('locale_suggestion.banner.title', locale: :hi),
         switch_to: I18n.t('locale_suggestion.banner.switch_to', locale: :hi, language: '__LANGUAGE__'),
         currently_viewing: I18n.t('locale_suggestion.banner.currently_viewing', locale: :hi, language: '__CURRENT__'),
         switch_button: I18n.t('locale_suggestion.banner.switch_button', locale: :hi),
         stay_button: "Stay in हिन्दी"
       },
       ar: {
         title: I18n.t('locale_suggestion.banner.title', locale: :ar),
         switch_to: I18n.t('locale_suggestion.banner.switch_to', locale: :ar, language: '__LANGUAGE__'),
         currently_viewing: I18n.t('locale_suggestion.banner.currently_viewing', locale: :ar, language: '__CURRENT__'),
         switch_button: I18n.t('locale_suggestion.banner.switch_button', locale: :ar),
         stay_button: "Stay in العربية"
       }
     }.to_json %>"
     style="display: none;">

    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-8">
                <div class="d-flex align-items-center">
                    <i class="bi bi-globe me-2 text-primary"></i>
                    <span class="suggestion-text" data-locale-suggestion-target="messageText">
                    </span>
                </div>
            </div>
            <div class="col-md-4 text-md-end mt-2 mt-md-0">
                <button type="button" class="btn btn-primary btn-sm me-2" data-locale-suggestion-target="switchButton">
                </button>
                <button type="button" class="btn btn-outline-secondary btn-sm" data-action="click->locale-suggestion#dismiss" data-locale-suggestion-target="dismissButton">
                </button>
            </div>
        </div>
    </div>
</div>