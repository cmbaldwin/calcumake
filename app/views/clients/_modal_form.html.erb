<%= turbo_frame_tag "modal_content" do %>
  <div class="modal-header">
    <h5 class="modal-title"><%= t('clients.new.title') %></h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
  </div>

  <%= form_with model: @client,
                data: { turbo_frame: "_top" },
                html: { class: "needs-validation", novalidate: true } do |form| %>
    <div class="modal-body">
      <%= render Forms::ErrorsComponent.new(model: @client) %>

      <!-- Basic Information -->
      <%= render Forms::FormSectionComponent.new(
        title: tag.h6(t('clients.sections.basic_info'), class: "mb-0"),
        card_class: "card mb-3",
        body_class: "row g-3"
      ) do %>
        <%= render Forms::FieldComponent.new(
          form: form,
          attribute: :name,
          type: :text,
          label: t('clients.fields.name'),
          required: true,
          wrapper_class: "col-md-6",
          options: { placeholder: t('clients.fields.name_placeholder') }
        ) %>
        <%= render Forms::FieldComponent.new(
          form: form,
          attribute: :company_name,
          type: :text,
          label: t('clients.fields.company_name'),
          wrapper_class: "col-md-6",
          options: { placeholder: t('clients.fields.company_name_placeholder') }
        ) %>
      <% end %>

      <!-- Contact Information -->
      <%= render Forms::FormSectionComponent.new(
        title: tag.h6(t('clients.sections.contact_info'), class: "mb-0"),
        card_class: "card mb-3",
        body_class: "row g-3"
      ) do %>
        <%= render Forms::FieldComponent.new(
          form: form,
          attribute: :email,
          type: :email,
          label: t('clients.fields.email'),
          wrapper_class: "col-md-6",
          options: { placeholder: t('clients.fields.email_placeholder') }
        ) %>
        <%= render Forms::FieldComponent.new(
          form: form,
          attribute: :phone,
          type: :text,
          label: t('clients.fields.phone'),
          wrapper_class: "col-md-6",
          options: { placeholder: t('clients.fields.phone_placeholder') }
        ) %>
        <%= render Forms::FieldComponent.new(
          form: form,
          attribute: :address,
          type: :textarea,
          label: t('clients.fields.address'),
          wrapper_class: "col-12",
          options: { rows: 2, placeholder: t('clients.fields.address_placeholder') }
        ) %>
      <% end %>

      <!-- Additional Information -->
      <%= render Forms::FormSectionComponent.new(
        title: tag.h6(t('clients.sections.additional_info'), class: "mb-0"),
        card_class: "card mb-3",
        body_class: "row g-3"
      ) do %>
        <%= render Forms::FieldComponent.new(
          form: form,
          attribute: :tax_id,
          type: :text,
          label: t('clients.fields.tax_id'),
          wrapper_class: "col-md-6",
          options: { placeholder: t('clients.fields.tax_id_placeholder') }
        ) %>
      <% end %>

      <!-- Notes -->
      <%= render Forms::FormSectionComponent.new(
        title: tag.h6(t('clients.fields.notes'), class: "mb-0"),
        card_class: "card"
      ) do %>
        <%= render Forms::FieldComponent.new(
          form: form,
          attribute: :notes,
          type: :textarea,
          label: false,
          wrapper: false,
          options: { rows: 3, placeholder: t('clients.fields.notes_placeholder') }
        ) %>
      <% end %>
    </div>

    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><%= t('actions.cancel') %></button>
      <%= form.submit t('clients.buttons.create'), class: "btn btn-primary" %>
    </div>
  <% end %>
<% end %>
