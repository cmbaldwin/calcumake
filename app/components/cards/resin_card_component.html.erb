<div class="col-lg-4 col-md-6">
    <div class="<%= card_classes %>">
        <div class="card-header d-flex justify-content-between align-items-center">
            <h5 class="mb-0 text-primary"><%= resin.name %></h5>
            <%= render Shared::BadgeComponent.new(text: resin.resin_type, variant: "info") %>
        </div>

        <div class="card-body">
            <div class="mb-3">
                <% if has_brand? %>
                <div class="d-flex justify-content-between py-2 border-bottom">
                    <span class="fw-medium text-muted"><%= t('resins.fields.brand') %>:</span>
                    <span class="fw-bold"><%= resin.brand %></span>
                </div>
                <% end %>
                <% if has_color? %>
                <div class="d-flex justify-content-between py-2 border-bottom">
                    <span class="fw-medium text-muted"><%= t('resins.fields.color') %>:</span>
                    <span class="fw-bold"><%= resin.color %></span>
                </div>
                <% end %>
                <% if has_cost_data? %>
                <div class="d-flex justify-content-between py-2 border-bottom">
                    <span class="fw-medium text-muted"><%= t('resins.fields.cost_per_ml') %>:</span>
                    <span class="fw-bold"><%= formatted_cost_per_ml %></span>
                </div>
                <% end %>
                <div class="d-flex justify-content-between py-2">
                    <span class="fw-medium text-muted"><%= t('resins.fields.layer_height_range') %>:</span>
                    <span class="fw-bold"><%= resin.layer_height_range %></span>
                </div>
            </div>

            <% if needs_wash? %>
            <div class="mb-3">
                <div class="d-flex flex-wrap gap-1">
                    <%= render Shared::BadgeComponent.new(
                        text: t('resins.properties.needs_wash'),
                        variant: "warning",
                        html_options: { class: "text-dark" }
                    ) %>
                </div>
            </div>
            <% end %>
        </div>

        <div class="card-footer">
            <div class="d-flex justify-content-center">
                <div class="dropdown">
                    <button class="btn btn-outline-secondary btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <%= t('actions.actions') %>
                    </button>
                    <ul class="dropdown-menu">
                        <li><%= link_to t('actions.view'), resin, class: "dropdown-item", data: { turbo_frame: "_top" } %></li>
                        <li><%= link_to t('actions.edit'), edit_resin_path(resin), class: "dropdown-item", data: { turbo_frame: "_top" } %></li>
                        <li><%= link_to t('actions.duplicate'), duplicate_resin_path(resin), method: :post, class: "dropdown-item", data: { turbo_method: :post } %></li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li><%= link_to t('actions.delete'), resin, method: :delete,
                          confirm: confirm_delete_message,
                          class: "dropdown-item text-danger",
                          data: { turbo_method: :delete } %></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
