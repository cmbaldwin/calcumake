<div class="col-lg-4 col-md-6">
    <div class="<%= card_classes %>">
        <div class="card-header d-flex justify-content-between align-items-center">
            <h5 class="mb-0 text-primary"><%= filament.name %></h5>
            <%= render Shared::BadgeComponent.new(text: filament.material_type, variant: "success") %>
        </div>

        <div class="card-body">
            <div class="mb-3">
                <% if has_brand? %>
                <div class="d-flex justify-content-between py-2 border-bottom">
                    <span class="fw-medium text-muted"><%= t('filaments.fields.brand') %>:</span>
                    <span class="fw-bold"><%= filament.brand %></span>
                </div>
                <% end %>
                <div class="d-flex justify-content-between py-2 border-bottom">
                    <span class="fw-medium text-muted"><%= t('filaments.fields.diameter') %>:</span>
                    <span class="fw-bold"><%= filament.diameter %>mm</span>
                </div>
                <% if has_color? %>
                <div class="d-flex justify-content-between py-2 border-bottom">
                    <span class="fw-medium text-muted"><%= t('filaments.fields.color') %>:</span>
                    <span class="fw-bold"><%= filament.color %></span>
                </div>
                <% end %>
                <% if has_cost_data? %>
                <div class="d-flex justify-content-between py-2 border-bottom">
                    <span class="fw-medium text-muted"><%= t('filaments.fields.cost_per_gram') %>:</span>
                    <span class="fw-bold"><%= formatted_cost_per_gram %></span>
                </div>
                <% end %>
                <div class="d-flex justify-content-between py-2">
                    <span class="fw-medium text-muted"><%= t('filaments.fields.temperature_range') %>:</span>
                    <span class="fw-bold"><%= filament.temperature_range %></span>
                </div>
            </div>

            <% if is_moisture_sensitive? %>
            <div class="mb-3">
                <div class="d-flex flex-wrap gap-1">
                    <%= render Shared::BadgeComponent.new(
                        text: t('filaments.properties.moisture_sensitive'),
                        variant: "warning",
                        html_options: { class: "text-dark" }
                    ) %>
                </div>
            </div>
            <% end %>
        </div>

        <div class="card-footer">
            <div class="d-flex justify-content-center">
                <div class="dropdown">
                    <button class="btn btn-outline-secondary btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <%= t('actions.actions') %>
                    </button>
                    <ul class="dropdown-menu">
                        <li><%= link_to t('actions.view'), filament, class: "dropdown-item", data: { turbo_frame: "_top" } %></li>
                        <li><%= link_to t('actions.edit'), edit_filament_path(filament), class: "dropdown-item", data: { turbo_frame: "_top" } %></li>
                        <li><%= link_to t('actions.duplicate'), duplicate_filament_path(filament), method: :post, class: "dropdown-item", data: { turbo_method: :post } %></li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li><%= link_to t('actions.delete'), filament, method: :delete,
                          confirm: confirm_delete_message,
                          class: "dropdown-item text-danger",
                          data: { turbo_method: :delete } %></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
